<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steven Massaro</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.js"></script>
    <script src="common.js"></script>
    <link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet">
    <script src="https://unpkg.com/filepond/dist/filepond.js"></script>

    <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet">
    <script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>

    <script src="https://unpkg.com/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js"></script>

    <script src="https://unpkg.com/filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.js"></script>

    <script src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.js"></script>

    <style>
        input {
            padding: 6px 10px;
            margin: 4px;
            box-sizing: border-box;
        }

        #submit {
            clear: left;
            float: left;
            margin-top: 70px;
        }

        #fileWrapper, #submit, input {
            max-width: 300px;
            width: 300px;
        }


    </style>

</head>
<body>
<div class="ui container">
    <p><h3 class="ui header">Upload</h3></p>
    <p><a href="index.html">Home</a></p>
    <br>
    <form method="POST" id="insertForm" enctype="multipart/form-data" action="" class="ui form">
        <div class="required field">
            <label>Store</label>
            <input type="text" id="store" name="store"/>
        </div>

        <div class="required field">
            <label>Deal</label>
            <input type="text" id="deal" name="deal"/>
        </div>

        <div class="field">
            <label>Comment</label>
            <input type="text" name="comment"/>
        </div>

        <div class="field">
            <label>Expiration Date</label>
            <input type="date" id="expirationDate" name="expirationDate"/>
        </div>

        <div id="fileWrapper">
            <input type="file" name="file" id="file" class="filepond" data-max-file-size="20MB"
                   data-max-files="1"/>
        </div>

        <button class="ui button" type="submit" id="submit">Upload or Create</button>
    </form>
</div>

<script>
	document.getElementById('insertForm').action = getApiBaseUrl("/insert");

    FilePond.registerPlugin(
      FilePondPluginImagePreview,
      FilePondPluginImageExifOrientation,
      FilePondPluginFileValidateSize,
      FilePondPluginFileEncode
    );
    FilePond.parse(document.body);
</script>
</body>
</html>